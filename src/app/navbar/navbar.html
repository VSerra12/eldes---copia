<nav>
    <div class="navbar desktop-navbar">
        <div class="logo-flag">
            <a routerLink="/">
                <img src="assets/logo-eldes.png" alt="Logo" class="logo" />
            </a>
            <img src="assets/flag-arg.png"
                alt="Argentina" class="flag ng-star-inserted" />
        </div>
        <div class="logos-utn-sla">
            <img src="assets/logo-lsa.png"
                alt="Señas de comunicación. Interpretación y capacitación en LSA"
                class="logo-sla ng-star-inserted" />
            <img src="assets/logo-utn.png" alt="UTN.BA"
                class="logo-utn ng-star-inserted" />
        </div>
        <div class="nav-links">
            <a routerLink="/" class="navs" routerLinkActive="nav-active"
                [routerLinkActiveOptions]="{ exact: true }">
                Inicio
            </a>
            <a routerLink="/ranking" class="navs"
                routerLinkActive="nav-active">Ranking</a>
            <!-- Botón de configuración -->
            <button mat-icon-button
                [matMenuTriggerFor]="menuConfiguracion"
                class="mat-focus-indicator mat-menu-trigger mat-icon-button mat-button-base">
                <mat-icon>settings</mat-icon>
            </button>

            <!-- Menú con slide toggle -->
            <mat-menu #menuConfiguracion="matMenu"
                class="menu-con-switch">
                <div
                    style="padding: 0 16px; display: flex; align-items: center;">
                    <mat-slide-toggle [(ngModel)]="ayudaInteligente"
                        (change)="onToggleAyuda()">
                        Ayuda inteligente
                    </mat-slide-toggle>
                </div>
            </mat-menu>

            <!-- Icono que abre el menú -->
            <button mat-icon-button [matMenuTriggerFor]="menuUsuario"
                class="mat-focus-indicator mat-menu-trigger mat-icon-button mat-button-base">
                <mat-icon>person_outline</mat-icon>
            </button>
            <!-- Menú desplegable -->
            <mat-menu #menuUsuario="matMenu">
                <button mat-menu-item [routerLink]="'/certificates'"
                    routerLinkActive="nav-active">
                    <mat-icon>school</mat-icon>
                    <span>Mis certificados</span>
                </button>
                <button mat-menu-item>
                    <mat-icon>account_circle</mat-icon>
                    <span>Mi cuenta</span>
                </button>
                <button mat-menu-item>
                    <mat-icon>help_outline</mat-icon>
                    <span>Preguntas frecuentes</span>
                </button>
                <button mat-menu-item (click)="cerrarSesion()">
                    <mat-icon>logout</mat-icon>
                    <span>Cerrar sesión</span>
                </button>
            </mat-menu>

        </div>
    </div>

    <!-- Toolbar responsive -->
    <mat-toolbar class="mobile-toolbar" color="primary">
        <div class="toolbar-left">
            <img src="assets/logo-eldes.png" alt="Logo EldeS" class="logo-eldes">
            <img src="assets/flag-arg.png" alt="Bandera Argentina" class="flag-arg">
        </div>
        <div class="toolbar-center">
            <img src="assets/logo-utn.png" alt="Logo UTN" class="logo-utn">
            <img src="assets/logo-lsa.png" alt="Logo LSA" class="logo-lsa">
        </div>
        <div class="toolbar-right">
            <button mat-icon-button (click)="toggleMobileMenu()">
                <mat-icon>menu</mat-icon>
            </button>
        </div>
    </mat-toolbar>

    <!-- Menú lateral responsive -->
    <mat-sidenav-container class="mobile-sidenav-container" *ngIf="mobileMenuOpen">
        <mat-sidenav #sidenav mode="over" position="end" opened>
            <div class="sidebar-items">
                <button mat-button [routerLink]="'/'" (click)="closeMobileMenu()">Inicio</button>
                <button mat-button [routerLink]="'/ranking'" (click)="closeMobileMenu()">Ranking</button>
                <button mat-button (click)="openSettings()">
                    <mat-icon>settings</mat-icon> Ajustes
                </button>
                <!-- Acordeón Mi cuenta -->
                <button mat-button (click)="cuentaExpandida = !cuentaExpandida">
                    <mat-icon>account_circle</mat-icon> Mi cuenta
                    <mat-icon>
                      {{ cuentaExpandida ? 'expand_less' : 'expand_more' }}
                    </mat-icon>
                </button>
                <div *ngIf="cuentaExpandida" class="submenu-cuenta">
                    <button mat-button [routerLink]="'/certificates'" (click)="closeMobileMenu()">
                        <mat-icon>school</mat-icon>
                        Mis certificados
                    </button>
                    <button mat-button (click)="closeMobileMenu()">
                        <mat-icon>account_circle</mat-icon>
                        Mi cuenta
                    </button>
                    <button mat-button (click)="closeMobileMenu()">
                        <mat-icon>help_outline</mat-icon>
                        Preguntas frecuentes
                    </button>
                </div>
                <button mat-button (click)="cerrarSesion()">
                    <mat-icon>logout</mat-icon> Cerrar sesión
                </button>
            </div>
        </mat-sidenav>
    </mat-sidenav-container>
</nav>
